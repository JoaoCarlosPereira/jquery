<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Jogo da Velha</title>
        <style>
            td {
                border: 1px solid #ccc;
                font-size: 4em;
                padding: 15px;
                text-align: center;
                font-family: Helvetica, sans-serif;
                width: 100px;
                height: 100px;
            }
            table {
                border-collapse: collapse;
                margin:auto;
            }
        </style>
        <script src="js/jquery-3.3.1.min.js" type="text/javascript"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                $('td').text('');
                $('body').append('<button>Reiniciar</button>');
                var Jogador = 'X';
                var Contador = 0;

                $('button').click(function () {
                    $('td').text('');
                    $('td').css('background', 'white');
                    Contador = 0;
                });

                $('td').click(function () {
                    if (Contador < 9) {
                        if ($(this).text() == '') {
                            var Atual = Jogador;

                            $(this).text(Jogador);
                            Contador += 1;

                            if (Jogador == 'X') {
                                Jogador = 'O'
                            } else {
                                Jogador = 'X'
                            }
                        }

                        function TestaPosicoes(Atual, A, B, C) {
                            return (($('td').eq(A).text() == Atual) &&
                                    ($('td').eq(B).text() == Atual) &&
                                    ($('td').eq(C).text() == Atual))
                        }

                        function Pintar(A, B, C) {
                            $('td').eq(A).css('background', 'red');
                            $('td').eq(B).css('background', 'red');
                            $('td').eq(C).css('background', 'red');
                            Contador = 9;
                        }


                        if (TestaPosicoes(Atual, 0, 1, 2)) {
                            Pintar(0, 1, 2);
                        } else if (TestaPosicoes(Atual, 3, 4, 5)) {
                            Pintar(3, 4, 5);
                        } else if (TestaPosicoes(Atual, 6, 7, 8)) {
                            Pintar(6, 7, 8);

                        } else if (TestaPosicoes(Atual, 0, 3, 6)) {
                            Pintar(0, 3, 6);
                        } else if (TestaPosicoes(Atual, 1, 4, 7)) {
                            Pintar(1, 4, 7);
                        } else if (TestaPosicoes(Atual, 2, 5, 8)) {
                            Pintar(2, 5, 8);

                        } else if (TestaPosicoes(Atual, 0, 4, 8)) {
                            Pintar(0, 4, 8);
                        } else if (TestaPosicoes(Atual, 2, 4, 6)) {
                            Pintar(2, 4, 6);
                        } else if (Contador == 9) {
                            Pintar(0, 1, 2);
                            Pintar(3, 4, 5);
                            Pintar(6, 7, 8);
                        }
                    }
                });
            });
        </script>
    </head>
    <body>
        <table cellspacing="0" cellpadding="0" id="t1">
            <tr><td>X</td><td></td><td>X</td></tr>
            <tr><td>O</td><td>X</td><td>O</td></tr>
            <tr><td>X</td><td>O</td><td>X</td></tr>
        </table>
    </body>
</html>
